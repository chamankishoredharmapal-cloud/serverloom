
======================================================================
FILE: templates\base_admin.html
======================================================================

<!-- templates/base_admin.html -->
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>{% block title %}Loom Admin Panel{% endblock %}</title>

  <script src="https://cdn.tailwindcss.com"></script>
  
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body { font-family: 'Inter', sans-serif; }
    /* Hide scrollbar for sidebar */
    .no-scrollbar::-webkit-scrollbar { display: none; }
    .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
  </style>

  {% block extra_head %}{% endblock %}
</head>
<body class="bg-slate-50 text-slate-800 antialiased min-h-screen">

  <div class="flex h-screen overflow-hidden">
    
    <aside class="w-64 bg-slate-900 text-white flex flex-col fixed inset-y-0 left-0 z-30 transition-transform duration-300 transform -translate-x-full md:translate-x-0 md:relative shadow-xl">
      
      <div class="h-16 flex items-center px-6 border-b border-slate-800 bg-slate-950">
        <a href="{% url 'admin_home' %}" class="flex items-center gap-3 font-bold text-xl tracking-wide text-indigo-400 hover:text-indigo-300 transition">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-8 h-8">
            <path d="M11.644 1.59a.75.75 0 01.712 0l9.75 5.25a.75.75 0 010 1.32l-9.75 5.25a.75.75 0 01-.712 0l-9.75-5.25a.75.75 0 010-1.32l9.75-5.25z" />
            <path d="M3.265 10.602l7.668 4.129a2.25 2.25 0 002.134 0l7.668-4.13 1.37.739a.75.75 0 010 1.32l-9.75 5.25a.75.75 0 01-.71 0l-9.75-5.25a.75.75 0 010-1.32l1.37-.738z" />
            <path d="M10.933 19.231l-7.668-4.13-1.37.738a.75.75 0 000 1.32l9.75 5.25a.75.75 0 00.71 0l9.75-5.25a.75.75 0 000-1.32l-1.37-.738-7.668 4.13a2.25 2.25 0 01-2.134-.001z" />
          </svg>
          <span>Loom Admin</span>
        </a>
      </div>

      <nav class="flex-1 overflow-y-auto no-scrollbar py-4 px-3 space-y-1">
        
        <p class="px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 mt-2">Overview</p>
        
        <a href="{% url 'admin_home' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition group">
          <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2V6zM14 6a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V6zM4 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2H6a2 2 0 01-2-2v-2zM14 16a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2v-2z"></path></svg>
          Dashboard
        </a>

        <a href="{% url 'admin_employees' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition group">
            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
            Employees
        </a>

        <p class="px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 mt-6">Production</p>

        <a href="{% url 'admin_pagdi_list' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition group">
            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
            Pagdi
        </a>
        <a href="{% url 'admin_warp_list' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition group">
            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
            Warp
        </a>
        <a href="{% url 'admin_saree_entry' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition group">
            <svg class="w-5 h-5 text-slate-400 group-hover:text-green-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            Saree Entry
        </a>

        <p class="px-3 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-2 mt-6">Finance</p>

        <a href="{% url 'admin_weekly_salary' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition group">
            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
            Weekly Salary
        </a>
        <a href="{% url 'admin_salary_history' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-300 hover:bg-slate-800 hover:text-white transition group">
            <svg class="w-5 h-5 text-slate-400 group-hover:text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
            Salary History
        </a>

        <div class="mt-8 border-t border-slate-800 pt-4 pb-6">
           <a href="{% url 'download_global_history' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-emerald-400 hover:bg-slate-800 hover:text-emerald-300 transition group mb-1">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg>
              Download Report
           </a>

           <a href="{% url 'logout' %}" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-red-400 hover:bg-slate-800 hover:text-red-300 transition group">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
              Logout
           </a>
        </div>

      </nav>
    </aside>

    <div class="flex-1 flex flex-col h-screen overflow-hidden">
      
      <header class="h-16 bg-white border-b flex items-center justify-between px-8 shadow-sm z-20">
        <div class="flex items-center gap-4">
            <h1 class="text-2xl font-bold text-slate-800">{% block header %}{% endblock %}</h1>
        </div>
        <div class="text-sm font-medium text-slate-500">
           {% block header_right %}{% endblock %}
        </div>
      </header>

      <main class="flex-1 overflow-y-auto overflow-x-hidden p-8 bg-slate-50 relative">
        
        {% if messages %}
        <div class="fixed top-20 right-8 z-50 flex flex-col gap-2 max-w-sm w-full">
          {% for m in messages %}
            <div class="animate-fade-in-down flex items-center p-4 rounded-lg shadow-lg border-l-4 
              {% if m.tags == 'success' %}bg-white border-green-500 text-green-700{% elif m.tags == 'error' %}bg-white border-red-500 text-red-700{% else %}bg-white border-blue-500 text-blue-700{% endif %}">
              <div class="flex-1 text-sm font-medium">{{ m }}</div>
              <button onclick="this.parentElement.remove()" class="ml-3 text-slate-400 hover:text-slate-600">&times;</button>
            </div>
          {% endfor %}
        </div>
        {% endif %}

        {% block content %}{% endblock %}
        
        <div class="h-12"></div> </main>
    </div>

  </div>

  <style>
    @keyframes fadeInDown {
        0% { opacity: 0; transform: translateY(-20px); }
        100% { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in-down {
        animation: fadeInDown 0.3s ease-out forwards;
    }
  </style>

  {% block extra_scripts %}{% endblock %}
</body>
</html>

======================================================================
FILE: templates\base_employee.html
======================================================================

<!-- templates/base_employee.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{% block title %}Loom Employee Portal{% endblock %}</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>

<body class="bg-slate-50 text-slate-800 antialiased min-h-screen">

    <div class="flex h-screen overflow-hidden">
        
        <aside class="w-64 bg-indigo-700 text-white flex flex-col fixed inset-y-0 left-0 z-30 shadow-xl transition-all duration-300">
            <div class="h-20 flex flex-col justify-center px-6 border-b border-indigo-600 bg-indigo-800">
                <div class="flex items-center gap-2 font-bold text-xl tracking-wide text-white">
                    <span>ðŸ§µ Loom Manager</span>
                </div>
                <div class="text-xs text-indigo-200 mt-1 uppercase tracking-wider font-semibold">Employee Portal</div>
            </div>

            <nav class="flex-1 overflow-y-auto py-6 px-3 space-y-2">
                
                <a href="{% url 'employee_dashboard' %}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-indigo-100 hover:bg-white hover:text-indigo-700 transition-all font-medium">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path></svg>
                    Dashboard
                </a>
                
                <a href="{% url 'saree_count' %}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-indigo-100 hover:bg-white hover:text-indigo-700 transition-all font-medium">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg>
                    Saree Count
                </a>
                
                <a href="{% url 'pagdi' %}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-indigo-100 hover:bg-white hover:text-indigo-700 transition-all font-medium">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg>
                    Pagdi
                </a>
                
                <a href="{% url 'warp' %}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-indigo-100 hover:bg-white hover:text-indigo-700 transition-all font-medium">
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    Warp
                </a>
                
                <div class="pt-4 mt-2 border-t border-indigo-600">
                    <a href="{% url 'employee_history' %}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-indigo-100 hover:bg-white hover:text-indigo-700 transition-all font-medium">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path></svg>
                        Full History
                    </a>
                    
                    <a href="{% url 'employee_salary_history' %}" class="flex items-center gap-3 px-4 py-3 rounded-lg text-indigo-100 hover:bg-white hover:text-indigo-700 transition-all font-medium">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                        Salary History
                    </a>
                </div>

            </nav>

            <div class="p-4 border-t border-indigo-600 bg-indigo-800">
                <a href="{% url 'logout' %}" class="flex items-center justify-center gap-2 py-2 px-4 rounded bg-red-500 hover:bg-red-600 text-white text-sm font-semibold transition shadow-md">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg>
                    Logout
                </a>
            </div>
        </aside>

        <main class="flex-1 ml-64 flex flex-col h-screen overflow-hidden bg-slate-50 relative">
            <div class="flex-1 overflow-y-auto p-8 sm:p-10">
                
                {% if messages %}
                <div class="mb-6 space-y-2">
                  {% for m in messages %}
                    <div class="p-4 rounded-lg shadow-sm border-l-4 flex items-center justify-between
                        {% if m.tags == 'success' %}bg-green-50 border-green-500 text-green-700{% elif m.tags == 'error' %}bg-red-50 border-red-500 text-red-700{% else %}bg-blue-50 border-blue-500 text-blue-700{% endif %}">
                        <span>{{ m }}</span>
                        <button onclick="this.parentElement.style.display='none'" class="text-xl font-bold leading-none">&times;</button>
                    </div>
                  {% endfor %}
                </div>
                {% endif %}

                {% block content %}{% endblock %}
                
                <div class="h-10"></div>
            </div>
        </main>

    </div>

</body>
</html>

======================================================================
FILE: templates\accounts\dashboard.html
======================================================================

{% extends "base_employee.html" %}
{% block content %}

<h1 class="text-2xl font-bold mb-6">ðŸ‘‹ Welcome, {{ employee.name }}</h1>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">

    <!-- Personal Details -->
    <div class="bg-white p-6 rounded-lg shadow border">
        <h2 class="text-xl font-semibold mb-2">Your Details</h2>

        <p><strong>Phone:</strong> {{ employee.phone }}</p>
        <p><strong>Salary per Saree:</strong> â‚¹{{ employee.salary_per_saree }}</p>

        {% if employee.is_approved %}
            <p><strong>Status:</strong> 
                <span class="text-green-600 font-bold">Approved</span>
            </p>
        {% else %}
            <p><strong>Status:</strong> 
                <span class="text-yellow-600 font-bold">Pending</span>
            </p>
        {% endif %}
    </div>

    <!-- Weekly Salary Summary -->
    <div class="bg-white p-6 rounded-lg shadow border">
        <h2 class="text-xl font-semibold mb-2">Weekly Summary</h2>

        <p><strong>Week:</strong> {{ week_start }} â†’ {{ week_end }}</p>
        <p><strong>Sarees Completed:</strong> {{ weekly_sarees }}</p>
        <p><strong>Advance:</strong> â‚¹{{ employee.advance_salary }}</p>
        <p><strong>Final Salary:</strong> â‚¹{{ final_salary }}</p>
    </div>

</div>

<!-- Quick Links -->
<div class="grid grid-cols-1 md:grid-cols-3 gap-6 mt-8">

    <a href="/employee/saree-count/"
       class="bg-white p-6 rounded shadow border hover:bg-gray-100 text-center font-semibold">
        ðŸ§µ Saree Count
    </a>

    <a href="/employee/pagdi/"
       class="bg-white p-6 rounded shadow border hover:bg-gray-100 text-center font-semibold">
        ðŸŽ¯ Pagdi
    </a>

    <a href="/employee/warp-history/"
       class="bg-white p-6 rounded shadow border hover:bg-gray-100 text-center font-semibold">
        ðŸ“š Warp History
    </a>

</div>

{% endblock %}


======================================================================
FILE: templates\accounts\employee_salary_history.html
======================================================================

{% extends "base_employee.html" %}
{% block title %}Salary History{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-6 bg-white rounded shadow">
    <h2 class="text-2xl font-semibold mb-4">ðŸ’° Salary History</h2>

    <div class="overflow-x-auto">
        <table class="min-w-full">
            <thead class="bg-gray-100">
                <tr>
                    <th class="p-3 text-left">Week</th>
                    <th class="p-3 text-left">Sarees</th>
                    <th class="p-3 text-left">Rate</th>
                    <th class="p-3 text-left">Advance</th>
                    <th class="p-3 text-left">Final Salary</th>
                    <th class="p-3 text-left">Status</th>
                </tr>
            </thead>

            <tbody>
                {% for h in history %}
                <tr class="border-t">
                    <td class="p-3">
                        {{ h.week_start|date:"M d, Y" }} â€” {{ h.week_end|date:"M d, Y" }}
                    </td>
                    <td class="p-3">{{ h.sarees }}</td>
                    <td class="p-3">â‚¹{{ h.salary_rate }}</td>
                    <td class="p-3">â‚¹{{ h.advance_salary }}</td>
                    <td class="p-3 font-semibold">â‚¹{{ h.final_salary }}</td>
                    <td class="p-3">
                        {% if h.paid_status %}
                          <span class="text-green-600">Paid</span>
                        {% else %}
                          <span class="text-red-600">Unpaid</span>
                        {% endif %}
                    </td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="p-3 text-center text-gray-500">
                        No salary history yet.
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\history.html
======================================================================

<!-- templates/accounts/history.html -->
{% extends "base_employee.html" %}
{% block title %}Your History{% endblock %}

{% block content %}
<h1 class="text-2xl font-bold mb-6">ðŸ“š Your Activity History</h1>

<div class="grid grid-cols-1 md:grid-cols-2 gap-6">

  <div class="bg-white p-4 rounded shadow">
    <h3 class="font-semibold mb-3">Saree History</h3>
    <ul>
      {% for s in saree_history %}
      <li class="border p-2 mb-2 rounded">
        <strong>{{ s.date|date:"M d, Y" }}</strong> â€” {{ s.count }} sarees<br>
        <span class="text-sm text-gray-600">{{ s.notes }}</span>
      </li>
      {% empty %}
      <p>No saree history yet.</p>
      {% endfor %}
    </ul>
  </div>

  <div class="space-y-6">
    <div class="bg-white p-4 rounded shadow">
      <h3 class="font-semibold mb-3">Pagdi History</h3>
      <ul>
        {% for p in pagdi_history %}
        <li class="border p-2 mb-2 rounded">
          <strong>{{ p.start_date|date:"M d, Y" }}</strong> â€” {{ p.end_date|default:"Active" }}<br>
          Capacity: {{ p.capacity_sarees }}<br>
          <span class="text-sm text-gray-600">{{ p.notes }}</span>
        </li>
        {% empty %}
        <p>No pagdi history.</p>
        {% endfor %}
      </ul>
    </div>

    <div class="bg-white p-4 rounded shadow">
      <h3 class="font-semibold mb-3">Warp History</h3>
      <ul>
        {% for w in warp_history %}
        <li class="border p-2 mb-2 rounded">
          <strong>{{ w.start_date|date:"M d, Y" }}</strong> â€” {{ w.end_date|default:"Active" }}<br>
          Capacity: {{ w.capacity_sarees }}<br>
          <span class="text-sm text-gray-600">{{ w.notes }}</span>
        </li>
        {% empty %}
        <p>No warp history.</p>
        {% endfor %}
      </ul>
    </div>
  </div>

</div>
{% endblock %}


======================================================================
FILE: templates\accounts\login.html
======================================================================

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Login | Loom Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen flex items-center justify-center bg-gray-100">

<div class="bg-white shadow-xl rounded-xl p-8 w-full max-w-md">

    <h2 class="text-3xl font-bold text-center mb-6">Welcome Back</h2>

    {% if error %}
    <div class="mb-4 p-3 rounded bg-red-100 text-red-700 border border-red-300">
        {{ error }}
    </div>
    {% endif %}

    <form method="POST" class="space-y-4">
        {% csrf_token %}

        <div>
            <label class="font-semibold">Phone Number</label>
            <input type="text" name="phone"
                   class="w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-400"
                   placeholder="Enter phone number" required>
        </div>

        <div>
            <label class="font-semibold">Password</label>
            <input type="password" name="password"
                   class="w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-400"
                   placeholder="Enter password" required>
        </div>

        <button class="w-full bg-blue-600 text-white py-2 rounded mt-2 hover:bg-blue-700">
            Login
        </button>
    </form>

    <p class="text-center mt-4 text-sm">
        Don't have an account?
        <a href="/signup/" class="text-blue-600 underline">Create Account</a>
    </p>

</div>

</body>
</html>


======================================================================
FILE: templates\accounts\pagdi.html
======================================================================

{% extends "base_employee.html" %}
{% block content %}

<h1 class="text-2xl font-bold mb-6">ðŸŽ¯ Pagdi Details</h1>

<div class="bg-white p-6 rounded-shadow border">

    {% if pagdi %}
        <p><strong>Start Date:</strong> {{ pagdi.start_date }}</p>
        <p><strong>Capacity:</strong> {{ pagdi.capacity_sarees }} sarees</p>
        <p><strong>Remaining:</strong> {{ pagdi.remaining_sarees }}</p>

        {% if pagdi.end_date %}
            <p class="mt-3 text-gray-500">Pagdi Completed</p>
        {% else %}
            <p class="mt-3 text-green-700 font-semibold">Pagdi Active</p>
        {% endif %}
    {% else %}
        <p>No active pagdi assigned.</p>
    {% endif %}

</div>

{% endblock %}


======================================================================
FILE: templates\accounts\saree_count.html
======================================================================

<!-- templates/accounts/saree_count.html -->
{% extends "base_employee.html" %}
{% block title %}Saree Count{% endblock %}

{% block content %}
<div class="max-w-4xl mx-auto p-6 bg-white rounded shadow">
  <h2 class="text-2xl font-semibold mb-4">Your Saree Entries (Read-only)</h2>
  <p class="text-sm text-gray-600 mb-4">Only admins can add or edit saree entries.</p>

  <div class="overflow-x-auto">
    <table class="min-w-full">
      <thead class="bg-gray-50">
        <tr>
          <th class="p-3 text-left">Date</th>
          <th class="p-3 text-left">Count</th>
          <th class="p-3 text-left">Notes</th>
          <th class="p-3 text-left">Salary Earned</th>
        </tr>
      </thead>
      <tbody>
        {% for h in history %}
        <tr class="border-t">
          <td class="p-3">{{ h.date|date:"M d, Y" }}</td>
          <td class="p-3">{{ h.count }}</td>
          <td class="p-3">{{ h.notes|default:"â€”" }}</td>
          <td class="p-3 font-semibold">â‚¹{{ h.salary }}</td>
        </tr>
        {% empty %}
        <tr><td class="p-3" colspan="4">No entries yet.</td></tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\signup.html
======================================================================

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create Account | Loom Manager</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen flex items-center justify-center bg-gray-100">

<div class="bg-white shadow-xl rounded-xl p-8 w-full max-w-md">

    <h2 class="text-3xl font-bold text-center mb-6">Create Account</h2>

    {% if error %}
    <div class="mb-4 p-3 rounded bg-red-100 text-red-700 border border-red-300">
        {{ error }}
    </div>
    {% endif %}

    <form method="POST" class="space-y-4">
        {% csrf_token %}

        <div>
            <label class="font-semibold">Name</label>
            <input type="text" name="name"
                   class="w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-400"
                   required>
        </div>

        <div>
            <label class="font-semibold">Phone</label>
            <input type="text" name="phone"
                   class="w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-400"
                   required>
        </div>

        <div>
            <label class="font-semibold">Password</label>
            <input type="password" name="password"
                   class="w-full mt-1 p-2 border rounded focus:ring-2 focus:ring-blue-400"
                   required>
        </div>

        <button class="w-full bg-green-600 text-white py-2 rounded mt-2 hover:bg-green-700">
            Create Account
        </button>
    </form>

    <p class="text-center mt-4 text-sm">
        Already have an account?
        <a href="/login/" class="text-blue-600 underline">Login</a>
    </p>

</div>

</body>
</html>


======================================================================
FILE: templates\accounts\warp.html
======================================================================

{% extends "base_employee.html" %}
{% block content %}

<h1 class="text-2xl font-bold mb-6">âš™ Warp Details</h1>

<div class="bg-white p-6 rounded shadow border">

    {% if warp %}
        <p><strong>Start Date:</strong> {{ warp.start_date }}</p>
        <p><strong>Capacity Sarees:</strong> {{ warp.capacity_sarees }}</p>
        <p><strong>Remaining Sarees:</strong> {{ warp.remaining_sarees }}</p>

        {% if warp.end_date %}
            <p class="text-gray-600 mt-3">Warp Completed</p>
        {% else %}
            <p class="text-green-600 font-semibold mt-3">Warp Active</p>
        {% endif %}
    {% else %}
        <p>No active warp assigned.</p>
    {% endif %}

</div>

{% endblock %}


======================================================================
FILE: templates\accounts\warp_history.html
======================================================================

{% extends "base_employee.html" %}
{% block content %}
<h1 class="text-2xl font-bold mb-6">âš™ Warp History</h1>

<div class="bg-white p-6 rounded shadow">
  <h3 class="font-semibold mb-4">Warp Assignments</h3>
  <ul class="space-y-3">
    {% for w in warp_history %}
    <li class="border p-3 rounded">
      <div><strong>Start:</strong> {{ w.start_date }}</div>
      <div><strong>End:</strong> {{ w.end_date|default:"Active" }}</div>
      <div><strong>Capacity:</strong> {{ w.capacity_sarees }}</div>
      <div class="text-sm text-gray-600">{{ w.notes }}</div>
      <div class="text-sm text-gray-700 mt-2">Made: {{ w|cut:""|default:"0" }}</div>
    </li>
    {% empty %}
    <li class="text-sm text-gray-500">No warp history.</li>
    {% endfor %}
  </ul>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_dashboard.html
======================================================================

{% extends "base_admin.html" %}
{% block content %}

<h1 class="text-3xl font-bold mb-6">Admin Dashboard</h1>

<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

    <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-semibold mb-2">Total Employees</h2>
        <p class="text-3xl font-bold text-blue-600">{{ total_employees }}</p>
    </div>

    <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-semibold mb-2">Active Pagdis</h2>
        <p class="text-3xl font-bold text-green-600">{{ active_pagdis }}</p>
    </div>

    <div class="bg-white p-6 rounded-lg shadow">
        <h2 class="text-xl font-semibold mb-2">Warps Running</h2>
        <p class="text-3xl font-bold text-indigo-600">{{ active_warps }}</p>
    </div>

</div>

{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_employees.html
======================================================================

{% extends "base_admin.html" %}

{% block title %}Employees{% endblock %}
{% block header %}Employees{% endblock %}

{% block content %}
<div class="flex items-center justify-between mb-4">
  <form method="GET" class="flex items-center gap-2">
    <input name="q" value="{{ q }}" placeholder="Search name or phone"
           class="border p-2 rounded" />
    <button class="bg-indigo-600 text-white px-3 py-2 rounded">Search</button>
  </form>

  <a href="{% url 'admin_saree_entry' %}" class="bg-green-600 text-white px-3 py-2 rounded">Add Saree</a>
</div>

<div class="grid grid-cols-1 md:grid-cols-3 gap-4">
  {% for e in employees %}
  <div class="bg-white p-4 shadow rounded">
    <div class="flex justify-between items-start">
      <div>
        <h3 class="font-semibold">{{ e.name }}</h3>
        <p class="text-sm text-gray-600">{{ e.phone }}</p>
      </div>
      <div class="text-right">
        {% if e.is_approved %}
          <span class="text-sm text-green-600 font-semibold">Approved</span>
        {% else %}
          <span class="text-sm text-yellow-600 font-semibold">Pending</span>
        {% endif %}
      </div>
    </div>

    <div class="mt-4 flex gap-2">
      <a href="{% url 'admin_employee_detail' e.id %}" class="px-3 py-1 bg-blue-600 text-white rounded">View</a>
      <a href="{% url 'admin_approve_employee' e.id %}" class="px-3 py-1 bg-green-600 text-white rounded">Approve</a>
    </div>
  </div>
  {% empty %}
  <div class="bg-white p-4 shadow rounded">No employees found.</div>
  {% endfor %}
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_employee_detail.html
======================================================================

<!-- templates/accounts/admin/admin_employee_detail.html -->
{% extends "base_admin.html" %}
{% block title %}Employee Detail{% endblock %}

{% block content %}
<div class="max-w-5xl mx-auto p-6 space-y-6">

  <!-- Employee Header -->
  <div class="bg-white rounded shadow p-6 flex justify-between items-center">
    <div>
      <h2 class="text-2xl font-semibold">{{ employee.name }}</h2>
      <div class="text-sm text-gray-500">{{ employee.phone }}</div>
    </div>
    <div class="text-right">
      <div class="text-sm text-gray-500">Salary per saree</div>
      <div class="text-lg font-semibold">â‚¹{{ employee.salary_per_saree }}</div>
    </div>
  </div>

  <!-- Weekly Saree Entries -->
  <div class="bg-white rounded shadow p-6">
    <h3 class="font-semibold mb-4 text-lg">Weekly Saree Entries <span class="text-sm text-gray-500">({{ week_start|date:'M d, Y' }} â€” {{ week_end|date:'M d, Y' }})</span></h3>

    <div class="overflow-x-auto">
      <table class="min-w-full divide-y">
        <thead class="bg-gray-100">
          <tr>
            <th class="p-3 text-left text-sm text-gray-600">Date</th>
            <th class="p-3 text-left text-sm text-gray-600">Count</th>
            <th class="p-3 text-left text-sm text-gray-600">Notes</th>
            <th class="p-3 text-left text-sm text-gray-600">Salary Earned</th>
            <th class="p-3 text-left text-sm text-gray-600">Actions</th>
          </tr>
        </thead>

        <tbody class="bg-white divide-y">
          {% for e in weekly_entries %}
          <tr>
            <td class="p-3 text-sm">{{ e.date|date:"M d, Y" }}</td>
            <td class="p-3 text-sm">{{ e.count }}</td>
            <td class="p-3 text-sm">{{ e.notes|default:"â€”" }}</td>
            <td class="p-3 text-sm">â‚¹{{ e.salary }}</td>

            <td class="p-3 text-sm space-x-2">
              <!-- Delete entry -->
              <form method="post" class="inline">
                {% csrf_token %}
                <input type="hidden" name="action" value="delete_saree">
                <input type="hidden" name="entry_id" value="{{ e.id }}">
                <button class="px-2 py-1 bg-red-600 text-white rounded text-xs" onclick="return confirm('Delete this entry?');">Delete</button>
              </form>
            </td>
          </tr>
          {% empty %}
          <tr><td class="p-3 text-center text-gray-500" colspan="5">No entries this week.</td></tr>
          {% endfor %}
        </tbody>

        <tfoot class="bg-gray-50 border-t">
          <tr class="font-semibold">
            <td class="p-3">Totals</td>
            <td class="p-3">{{ weekly_sarees }}</td>
            <td class="p-3">â€”</td>
            <td class="p-3">â‚¹{{ weekly_salary_before }}</td>
            <td></td>
          </tr>

          <tr class="font-medium">
            <td class="p-3">Advance</td>
            <td class="p-3" colspan="4">
              <div class="flex items-center space-x-3">
                <span class="font-semibold text-gray-800">â‚¹{{ employee.advance_salary }}</span>

                <form method="post" action="{% url 'give_advance' employee.id %}" class="flex items-center space-x-2">
                  {% csrf_token %}
                  <input type="number" name="amount" min="1" placeholder="â‚¹" class="w-20 border rounded px-2 py-1" required>
                  <button class="bg-green-600 text-white px-3 py-1 rounded">Give</button>
                </form>

                <form method="post" action="{% url 'clear_advance' employee.id %}">
                  {% csrf_token %}
                  <button class="bg-red-600 text-white px-3 py-1 rounded">Clear</button>
                </form>
              </div>
            </td>
          </tr>

          <tr class="font-bold">
            <td class="p-3">Final Salary</td>
            <td class="p-3" colspan="4">â‚¹{{ week_salary }}</td>
          </tr>
        </tfoot>
      </table>
    </div>
  </div>

  <!-- Add Saree Entry (admin-only form) -->
  <div class="bg-white rounded shadow p-6">
    <h3 class="font-semibold text-lg mb-4">Add Saree Entry (Admin)</h3>
    <form method="post">
      {% csrf_token %}
      <input type="hidden" name="action" value="add_saree">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        <div>
          <label class="text-sm text-gray-600">Date</label>
          <input type="date" name="date" required class="w-full border rounded px-3 py-2">
        </div>
        <div>
          <label class="text-sm text-gray-600">Count</label>
          <input type="number" name="count" min="0" required class="w-full border rounded px-3 py-2">
        </div>
        <div>
          <label class="text-sm text-gray-600">Notes</label>
          <input type="text" name="notes" class="w-full border rounded px-3 py-2">
        </div>
      </div>
      <div class="mt-3">
        <button class="bg-green-600 text-white px-4 py-2 rounded">Save Entry</button>
      </div>
    </form>
  </div>

  <!-- Full Histories -->
  <div class="bg-white rounded shadow p-6">
    <h3 class="font-semibold mb-4">Full Histories</h3>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <h4 class="font-semibold mb-2">Saree History</h4>
        <div class="overflow-x-auto">
          <table class="min-w-full">
            <thead class="bg-gray-50"><tr><th class="p-2">Date</th><th class="p-2">Count</th><th class="p-2">Notes</th></tr></thead>
            <tbody>
              {% for s in saree_history_full %}
              <tr class="border-t"><td class="p-2">{{ s.date|date:"M d, Y" }}</td><td class="p-2">{{ s.count }}</td><td class="p-2">{{ s.notes }}</td></tr>
              {% empty %}
              <tr><td class="p-2" colspan="3">No saree history.</td></tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

      <div>
        <h4 class="font-semibold mb-2">Pagdi History</h4>
        <ul class="space-y-2">
          {% for p in pagdi_history_full %}
          <li class="border p-2 rounded">
            <div><strong>Start:</strong> {{ p.start_date|date:"M d, Y" }}</div>
            <div><strong>End:</strong> {{ p.end_date|default:"Active" }}</div>
            <div class="text-sm text-gray-600">{{ p.notes }}</div>
          </li>
          {% empty %}
          <li>No pagdi history.</li>
          {% endfor %}
        </ul>
      </div>

      <div>
        <h4 class="font-semibold mb-2">Warp History</h4>
        <ul class="space-y-2">
          {% for w in warp_history_full %}
          <li class="border p-2 rounded">
            <div><strong>Start:</strong> {{ w.start_date|date:"M d, Y" }}</div>
            <div><strong>End:</strong> {{ w.end_date|default:"Active" }}</div>
            <div class="text-sm text-gray-600">{{ w.notes }}</div>
          </li>
          {% empty %}
          <li>No warp history.</li>
          {% endfor %}
        </ul>
      </div>

      <div>
        <h4 class="font-semibold mb-2">Salary History</h4>
        <div class="overflow-x-auto">
          <table class="min-w-full">
            <thead class="bg-gray-50">
              <tr>
                <th class="p-2">Week</th><th class="p-2">Sarees</th><th class="p-2">Rate</th><th class="p-2">Advance</th><th class="p-2">Final</th><th class="p-2">Status</th>
              </tr>
            </thead>
            <tbody>
              {% for h in salary_history_full %}
              <tr class="border-t">
                <td class="p-2">{{ h.week_start|date:"M d, Y" }} â€” {{ h.week_end|date:"M d, Y" }}</td>
                <td class="p-2">{{ h.sarees }}</td>
                <td class="p-2">â‚¹{{ h.salary_rate }}</td>
                <td class="p-2">â‚¹{{ h.advance_salary }}</td>
                <td class="p-2">â‚¹{{ h.final_salary }}</td>
                <td class="p-2">{% if h.paid_status %}<span class="text-green-700">Paid</span>{% else %}<span class="text-yellow-600">Unpaid</span>{% endif %}</td>
              </tr>
              {% empty %}
              <tr><td class="p-2" colspan="6">No salary history.</td></tr>
              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>

    </div>
  </div>

</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_home.html
======================================================================

{% extends "base_admin.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block header %}Dashboard{% endblock %}

{% block content %}
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <div class="bg-white p-5 shadow rounded">
    <h3 class="text-sm font-semibold text-gray-600">Total Employees</h3>
    <p class="text-2xl font-bold mt-2">{{ stats.total_employees }}</p>
  </div>

  <div class="bg-white p-5 shadow rounded">
    <h3 class="text-sm font-semibold text-gray-600">Unapproved</h3>
    <p class="text-2xl font-bold mt-2">{{ stats.unapproved_count }}</p>
  </div>

  <div class="bg-white p-5 shadow rounded">
    <h3 class="text-sm font-semibold text-gray-600">Active Pagdis / Warps</h3>
    <p class="mt-2">{{ stats.active_pagdis }} pagdi Â· {{ stats.active_warps }} warp</p>
  </div>
</div>

<div class="mt-6 bg-white p-4 rounded shadow">
  <h2 class="font-semibold mb-3">Weekly Overview</h2>
  <p>Week: {{ week_start }} â€” {{ week_end }}</p>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_pagdi_create.html
======================================================================

{% extends "base_admin.html" %}

{% block title %}Assign Pagdi{% endblock %}
{% block header %}Assign Pagdi{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded shadow max-w-xl">
  <form method="POST">
    {% csrf_token %}
    <label class="block font-semibold mb-1">Employee</label>
    <select name="employee" class="w-full border p-2 rounded mb-4">
      {% for e in employees %}
      <option value="{{ e.id }}">{{ e.name }} â€” {{ e.phone }}</option>
      {% endfor %}
    </select>

    <label class="block font-semibold mb-1">Start Date</label>
    <input type="date" name="start_date" class="w-full border p-2 rounded mb-4">

    <label class="block font-semibold mb-1">Capacity (sarees)</label>
    <input type="number" name="capacity_sarees" class="w-full border p-2 rounded mb-4">

    <label class="block font-semibold mb-1">Notes</label>
    <input type="text" name="notes" class="w-full border p-2 rounded mb-4">

    <button class="bg-green-600 text-white px-4 py-2 rounded">Assign</button>
  </form>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_pagdi_list.html
======================================================================

{% extends "base_admin.html" %}
{% block title %}Pagdi â€” List{% endblock %}
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

{% block content %}
<div class="max-w-6xl mx-auto p-6">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-2xl font-semibold">Pagdi â€” List</h2>
    <a href="{% url 'admin_pagdi_create' %}" class="bg-blue-600 text-white px-4 py-2 rounded">Assign Pagdi</a>
  </div>

  <div class="space-y-4">
    {% for d in data %}
    <div class="bg-white rounded shadow p-4 flex justify-between items-start">
      <div>
        <div class="font-semibold">{{ d.obj.employee.name }}</div>
        <div class="text-sm text-gray-600">Start: {{ d.obj.start_date|date:"M d, Y" }}</div>
        <div class="text-sm text-gray-600">Capacity: {{ d.obj.capacity_sarees }}</div>
        <div class="text-sm text-gray-600">Made: {{ d.made }} â€¢ Remaining: {{ d.remaining }}</div>
        <div class="text-sm text-gray-500 mt-2">{{ d.obj.notes }}</div>
      </div>

      <div class="text-right">
        {% if d.obj.end_date %}
        <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded">Completed</span>
        {% else %}
        <span class="px-3 py-1 bg-green-100 text-green-700 rounded">Active</span>
        {% endif %}
      </div>
    </div>
    {% empty %}
    <div class="bg-white rounded shadow p-4">No pagdi history.</div>
    {% endfor %}
  </div>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_salary_history.html
======================================================================

{% extends "base_admin.html" %}

{% block content %}
<h1 class="text-2xl font-bold mb-4">Salary History</h1>

<div class="flex justify-end mb-4">
    <a href="{% url 'download_global_weekly_salary' %}"
       class="bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700">
       ðŸ“¥ Download Global Weekly Salary
    </a>
</div>


<table class="min-w-full bg-white shadow rounded">
    <thead>
        <tr class="border-b">
            <th class="p-3 text-left">Employee</th>
            <th class="p-3 text-left">Week</th>
            <th class="p-3 text-left">Sarees</th>
            <th class="p-3 text-left">Rate</th>
            <th class="p-3 text-left">Advance</th>
            <th class="p-3 text-left">Final</th>
            <th class="p-3 text-left">Paid?</th>
            <th class="p-3 text-left">Notes</th>
        </tr>
    </thead>

    <tbody>
        {% for row in history %}
        <tr class="border-b hover:bg-gray-50">
            <td class="p-3">{{ row.employee.name }}</td>
            <td class="p-3">{{ row.week_start }} â€” {{ row.week_end }}</td>
            <td class="p-3">{{ row.sarees }}</td>
            <td class="p-3">{{ row.salary_rate }}</td>
            <td class="p-3">{{ row.advance_salary }}</td>
            <td class="p-3">{{ row.final_salary }}</td>
            <td class="p-3">
                {% if row.paid_status %}
                    <span class="text-green-600 font-semibold">Yes</span>
                {% else %}
                    <span class="text-red-600 font-semibold">No</span>
                {% endif %}
            </td>
            <td class="p-3">{{ row.notes }}</td>
        </tr>
        {% empty %}
        <tr><td class="p-3" colspan="8" class="text-center">No salary history found.</td></tr>
        {% endfor %}
    </tbody>
</table>

{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_saree_entry.html
======================================================================

{% extends "base_admin.html" %}

{% block title %}Saree Entry{% endblock %}
{% block header %}Saree Entry{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded shadow max-w-lg">
  <form method="POST">
    {% csrf_token %}

    <label class="block font-semibold mb-1">Employee</label>
    <select name="employee" class="w-full border p-2 rounded mb-4">
      {% for e in employees %}
      <option value="{{ e.id }}">{{ e.name }}</option>
      {% endfor %}
    </select>

    <label class="block font-semibold mb-1">Date</label>
    <input type="date" name="date" class="w-full border p-2 rounded mb-4">

    <label class="block font-semibold mb-1">Count</label>
    <input type="number" name="count" class="w-full border p-2 rounded mb-4">

    <label class="block font-semibold mb-1">Notes</label>
    <input type="text" name="notes" class="w-full border p-2 rounded mb-4">

    <button class="bg-green-600 text-white px-4 py-2 rounded">Save Entry</button>
  </form>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_warp_create.html
======================================================================

{% extends "base_admin.html" %}

{% block title %}Assign Warp{% endblock %}
{% block header %}Assign Warp{% endblock %}

{% block content %}
<div class="bg-white p-6 rounded shadow max-w-lg">
  <form method="POST">
    {% csrf_token %}
    <label class="block font-semibold mb-1">Employee</label>
    <select name="employee" class="w-full border p-2 rounded mb-4">
      {% for e in employees %}
      <option value="{{ e.id }}">{{ e.name }} â€” {{ e.phone }}</option>
      {% endfor %}
    </select>

    <label class="block font-semibold mb-1">Capacity (sarees)</label>
    <input type="number" name="capacity" class="w-full border p-2 rounded mb-4">

    <button class="bg-purple-600 text-white px-4 py-2 rounded">Assign Warp</button>
  </form>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_warp_list.html
======================================================================

<!-- templates/accounts/admin/admin_warp_list.html -->
{% extends "base_admin.html" %}
{% block title %}Warp â€” List{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto p-6">
  <div class="flex items-center justify-between mb-4">
    <h2 class="text-2xl font-semibold">Warp â€” List</h2>
    <a href="{% url 'admin_warp_create' %}" class="bg-blue-600 text-white px-4 py-2 rounded">Assign Warp</a>
  </div>

  <div class="space-y-4">
    {% for d in data %}
    <div class="bg-white rounded shadow p-4 flex justify-between items-start">
      <div>
        <div class="font-semibold">{{ d.obj.employee.name }}</div>
        <div class="text-sm text-gray-600">Start: {{ d.obj.start_date|date:"M d, Y" }}</div>
        <div class="text-sm text-gray-600">Capacity: {{ d.obj.capacity_sarees }}</div>
        <div class="text-sm text-gray-600">Made: {{ d.made }} â€¢ Remaining: {{ d.remaining }}</div>
        <div class="text-sm text-gray-500 mt-2">{{ d.obj.notes }}</div>
      </div>

      <div class="text-right">
        {% if d.obj.end_date %}
        <span class="px-3 py-1 bg-gray-100 text-gray-600 rounded">Completed</span>
        {% else %}
        <span class="px-3 py-1 bg-green-100 text-green-700 rounded">Active</span>
        {% endif %}
      </div>
    </div>
    {% empty %}
    <div class="bg-white rounded shadow p-4">No warp history.</div>
    {% endfor %}
  </div>
</div>
{% endblock %}


======================================================================
FILE: templates\accounts\admin\admin_weekly_salary.html
======================================================================

{% extends "base_admin.html" %}
{% load static %}
{% block title %}Weekly Salary{% endblock %}

{% block content %}
<!-- Tailwind CDN if your base doesn't include it -->
<link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">

<div class="max-w-6xl mx-auto p-6">
  <div class="bg-white shadow rounded p-6 mb-6">
    <h2 class="text-2xl font-semibold">Weekly Salary</h2>
    <p class="text-sm text-gray-600 mt-2">Week: <strong>{{ week_start|date:"M d, Y" }}</strong> â€” <strong>{{ week_end|date:"M d, Y" }}</strong></p>
  </div>

  <div class="space-y-4">
    {% for row in rows %}
    <div class="bg-white rounded shadow-md p-4 flex items-center justify-between">
      <div class="flex items-center space-x-4">
        <div class="w-12 h-12 flex items-center justify-center bg-gray-100 rounded text-lg font-semibold text-gray-700">
          {{ row.employee.name|slice:":1"|upper }}
        </div>

        <div>
          <div class="font-semibold text-lg">{{ row.employee.name }}</div>
          <div class="text-xs text-gray-500">{{ row.employee.phone }}</div>
        </div>
      </div>

      <div class="flex-1 px-6 flex items-center justify-between">
        <div class="text-center">
          <div class="text-sm text-gray-500">Sarees</div>
          <div class="font-medium text-lg">{{ row.sarees }}</div>
        </div>

        <div class="text-center">
          <div class="text-sm text-gray-500">Before Advance</div>
          <div class="font-medium">â‚¹{{ row.salary_before }}</div>
        </div>

        <div class="text-center">
          <div class="text-sm text-gray-500">Advance</div>
          <div class="font-medium">â‚¹{{ row.advance }}</div>
        </div>

        <div class="text-center">
          <div class="text-sm text-gray-500">Final</div>
          <div class="text-2xl font-semibold">â‚¹{{ row.final_salary }}</div>
        </div>
      </div>

      <div class="flex items-center space-x-3">
        <!-- Give advance button triggers a small inline form via JS fallback, but we provide a simple inline form -->
        <form method="post" action="{% url 'give_advance' row.employee.id %}" class="flex items-center space-x-2">
          {% csrf_token %}
          <input name="amount" type="number" min="1" placeholder="â‚¹" class="w-20 border rounded px-2 py-1" required>
          <button class="bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700">Give</button>
        </form>

        <!-- Clear advance -->
        <form method="post" action="{% url 'clear_advance' row.employee.id %}">
          {% csrf_token %}
          <button class="bg-red-500 text-white px-3 py-1 rounded hover:bg-red-600">Clear</button>
        </form>

        <!-- Paid toggle -->
        {% if row.paid %}
        <form method="post" action="{% url 'mark_unpaid' row.employee.id %}">
          {% csrf_token %}
          <button class="bg-gray-700 text-white px-3 py-1 rounded">Paid â€” Set Unpaid</button>
        </form>
        {% else %}
        <form method="post" action="{% url 'mark_paid' row.employee.id %}" class="flex items-center space-x-2">
          {% csrf_token %}
          <input type="text" name="note" placeholder="Note (optional)" class="border rounded px-2 py-1 w-36">
          <button class="bg-blue-600 text-white px-3 py-1 rounded hover:bg-blue-700">Mark Paid</button>
        </form>
        {% endif %}

        <a href="{% url 'salary_slip_pdf' row.employee.id %}" class="bg-indigo-600 text-white px-3 py-1 rounded">Slip</a>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% endblock %}

